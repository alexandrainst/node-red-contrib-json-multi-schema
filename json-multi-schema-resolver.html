<script>
	RED.nodes.registerType('json-multi-schema-resolver', {
		category: 'function',
		color: '#00B4FF',
		defaults: {
			name: { value: '', },
			mappingsUrl: { value: '', },
		},
		inputs: 1,
		outputs: 1,
		icon: 'function.png',
		label: function () {
			return this.name || 'json-multi-schema-resolver';
		},
	});
</script>

<script type="text/x-red" data-template-name="json-multi-schema-resolver">
	<div class="form-row">
		<label for="node-input-name"><i class="icon-tag"></i> Name</label>
		<input type="text" id="node-input-name" placeholder="Name">
	</div>

	<div class="form-row">
		<label for="node-input-mappingsUrl"><i class="icon-tag"></i> mappingsUrl</label>
		<input type="text" id="node-input-mappingsUrl" placeholder="mappingsUrl">
	</div>
</script>

<script type="text/x-red" data-help-name="json-multi-schema-resolver">
	<p>
		The node will try to determine the URL of the JSON Schema to use for a given JSON payload received in <code>msg.payload</code>.
		To do so, the node uses the configuration file which URL is given as a <code>mappingsUrl</code> parameter.
		The URL of the corresponding JSON Schema is returned in <code>msg.schemaUrl</code>.
		Errors are returned on <code>msg.error</code>
	</p>
</script>
